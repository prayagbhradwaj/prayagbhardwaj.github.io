
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Measure Rectangl</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Raleway:300,400,500,700,800" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
 <link href="assets/css/style.css" rel="stylesheet">
 
</head>
<style>
      #canvas-container {
   width: 100%;
   text-align:center;
}

canvas {
   display: inline;
   border: 1px solid black;
   width: 100%;
    
}
.special-card {
    background-color: rgb(39, 36, 36);
  
}
    </style>
<body>
    
  <section id="hero">
    <div class="hero-container">
		<h1>Measure Height</h1>
      <div data-aos="fade-in">
        <div class="hero-logo">
			
			<div class="card text-center special-card">
				<div class="card-header" style="color:rgb(255, 71, 71);">
				  Get GeoLocation
				</div>
				<div class="card-body">
				  <h5 class="card-title" style="color:white;" >Getting Cordinates...</h5>
				  <p class="card-text"><p id="first_cordinate"></p><p id="second_cordinate"></p>
				  <a href="javascript:getLocation()" class="btn btn-light" style="margin:20px;">Initial</a>
				  <a href="javascript:getLocation()" class="btn btn-success" style="margin:20px;">Final</a>
				</div>	
				</div>
				<br>
				<div class="card text-center special-card">
					<div class="card-header" style="color:rgb(255, 71, 71);">
					  Get Angle along x-axis
					</div>
					<div class="card-body">
					  <h5 class="card-title" style="color:white;">Getting Cordinates...</h5>
					  <p class="card-text"><p id="first_cordinate"></p><p id="second_cordinate"></p>
					  <a href="javascript:getLocation()" class="btn btn-light" style="margin:20px;">Initial</a>
					  <a href="javascript:getLocation()" class="btn btn-success" style="margin:20px;">Final</a>
					</div>	
					</div>
					<canvas id="canvas_output" style="position:absolute;top:0px;left:0px;"></canvas>
			  </div>
			 

        </div>
      </div>
    </div>
  </section>
  </main>
  <script>
	var temp = document.getElementById("first_cordinate");
	var temp2 = document.getElementById("second_cordinate");
	var flag = 0;
function getLocation() {
  if (navigator.geolocation) {
    navigator.geolocation.getCurrentPosition(showPosition);
	flag = flag + 1;
  } else { 
    temp.innerHTML = "Geolocation is not supported by this browser.";
  }
}

function showPosition(position) {
	if(flag%2!=0){
		temp.innerHTML = "Latitude: " + position.coords.latitude + 
  "  Longitude: " + position.coords.longitude;
	}
	else
	{
		temp2.innerHTML = "Latitude: " + position.coords.latitude + 
  " Longitude: " + position.coords.longitude;

	}
}
window.addEventListener('deviceorientation', handleOrientation);
function handleOrientation(event){				
				var canvas=document.getElementById("canvas_output");
				betterOutput(event, canvas);
			}
			
			function simpleOutput(event, div){
				var properties="";
				for(var prop in event){
					properties+=prop+": "+event[prop]+"<br>";
				}
				div.innerHTML=properties;
			}
			
			function betterOutput(event, canvas){
				canvas.width=window.innerWidth;
				canvas.height=window.innerHeight;
				
				var context=canvas.getContext("2d");
				var radius=Math.min(canvas.width,canvas.height)/10;
				
				var location0={
					x:canvas.width/2,
					y:canvas.height/2
				}
				
				var location={
					x:location0.x,
					y:location0.y+event["beta"]*3
				}
				
				context.beginPath();
				context.arc(location.x,location.y,radius,0,2*Math.PI);
				context.stroke();
			}
			
	</script>
  <script src="assets/vendor/typed.js/typed.min.js"></script>
  <script src="assets/js/main.js"></script>
</body>
</html>
